{{template "base" .}} {{define "head"}}
{{end}} {{define "content"}}
<div id="terminal">
  {{.WelcomeBanner}}
  <div id="command-history">
    <div id="command-output">
      {{range .History}}
      <div class="command-prompt{{if .Error}} error{{end}}">
        {{.Prompt}}{{.Command}}
      </div>
      <div class="command-output{{if .Error}} error{{end}}">{{.Output}}</div>
      {{end}}
    </div>
    <form
      id="command-form"
      action="/command"
      method="post"
      hx-post="/command"
      hx-target="#command-output"
      hx-swap="beforeend"
      hx-on::after-request="handleCommandSubmit()"
      hx-on::response-error="handleCommandError(event)"
    >
      <div id="input-line">
        <span id="prompt">{{.CurrentPrompt}}</span>
        <span id="input-text"></span>
        <span id="cursor">â–ˆ</span>
        <input
          type="text"
          id="command-input"
          name="command"
          autocomplete="off"
          autofocus
        />
      </div>
    </form>
  </div>
</div>
<script src="/static/index.js"></script>
{{end}}
